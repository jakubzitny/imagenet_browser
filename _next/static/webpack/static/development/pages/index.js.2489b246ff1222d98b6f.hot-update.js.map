{"version":3,"file":"static/webpack/static/development/pages/index.js.2489b246ff1222d98b6f.hot-update.js","sources":["webpack:///./utils/fetch-utils.js"],"sourcesContent":["// @flow\n\nconst BACKEND_URL = 'http://104.198.35.148:5984'\nconst DB_NAME = 'testing3'\n\nexport default class FetchUtils {\n\n  static queryParamToSelector(queryParam?: ?string) {\n    if (!queryParam) {\n      return {}\n    }\n\n    return {\n      'name': {\n        '$regex': `.*${queryParam}.*`\n      },\n    }\n  }\n\n  static async fetch(queryParam?: ?string) {\n    const url = `${BACKEND_URL}/${DB_NAME}/_find`\n\n    const fieldsToFetch = [ 'name', 'size' ]\n\n    const response = await fetch(url, {\n      method: \"post\",\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        selector: FetchUtils.queryParamToSelector(queryParam),\n        fields: fieldsToFetch,\n      })\n    })\n\n    const data = await response.json()\n\n    return data.docs\n  }\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAEA;AACA;AACA;AACA;;;;;;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AADA;AAKA;;;;;;;;;;;;;AAEA;;;;;;AACA;AAEA;;AAEA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AAFA;AANA;AACA;;AADA;;AAYA;AACA;;AADA;AAEA;AACA;;;;;;;;;;;;;;;;;A","sourceRoot":""}